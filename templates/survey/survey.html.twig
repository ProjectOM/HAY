<div class="survey">
    <div class="question">
        {{ survey.question }}
    </div>
    <div class="surveyUser">
        {{ 'by'|trans }} {{ survey.user.firstName }} {{ survey.user.lastName }}
    </div>
    <i class="icofont-navigation-menu fs16 burgerMenu">
        <div class="burgerMenuContent">
            {% if app.user == survey.user %}
                <a href="#">{{ 'edit'|trans }}</a>
                <a href="#">{{ 'delete'|trans }}</a>
            {% endif %}
            <a href="#">Test</a>
        </div>
    </i>
    <div class="results">
        {% for key, value in survey.answersByPercentage %}
            <span style="background-color: {{ survey.color[key] }}; width: {{ value }}%;">{{ key }}</span>
        {% endfor %}
    </div>
    <div class="resultsValues">
        {% for value in survey.answersByPercentage %}
            <span style="width: {{ value }}%;">{{ value }}%</span>
        {% endfor %}
    </div>
    <form>
        {% for key, value in survey.answers %}
            <label>
                <input name="surveyOption" value="{{ key }}" type="radio">{{ key }}
            </label>
        {% endfor %}
        <button type="submit" class="send">Send</button>
        <span>{{ survey.answersTotal }} Votes</span>
        <span style="display: none;"><i class="icofont-check-alt"></i> Your vote has been sended</span>
    </form>
</div>
<script>
    re = new RegExp("^\\s+$")

    document.getElementsByClassName("results")[0].childNodes.forEach(function (elt) {if (re.test(elt.data)) {elt.parentNode.removeChild(elt);}})
    document.getElementsByClassName("resultsValues")[0].childNodes.forEach(function (elt) {if (re.test(elt.data)) {elt.parentNode.removeChild(elt);}})
</script>
